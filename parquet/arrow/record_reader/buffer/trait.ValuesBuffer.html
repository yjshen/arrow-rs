<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A buffer that supports padding with nulls"><title>ValuesBuffer in parquet::arrow::record_reader::buffer - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-5ca6ca2a1f83705a.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="parquet" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (7120fdac7 2024-07-25)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../parquet/index.html">parquet</a><span class="version">52.2.0</span></h2></div><h2 class="location"><a href="#">ValuesBuffer</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.pad_nulls">pad_nulls</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-ValuesBuffer-for-Vec%3CT%3E">Vec&#60;T&#62;</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In parquet::arrow::record_reader::buffer</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../../index.html">parquet</a>::<wbr><a href="../../index.html">arrow</a>::<wbr><a href="../index.html">record_reader</a>::<wbr><a href="index.html">buffer</a>::<wbr><a class="trait" href="#">ValuesBuffer</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../../src/parquet/arrow/record_reader/buffer.rs.html#21-43">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ValuesBuffer: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> {
    // Required method
    fn <a href="#tymethod.pad_nulls" class="fn">pad_nulls</a>(
        &amp;mut self,
        read_offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
        values_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
        levels_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
        valid_mask: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>],
    );
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A buffer that supports padding with nulls</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.pad_nulls" class="method"><a class="src rightside" href="../../../../src/parquet/arrow/record_reader/buffer.rs.html#36-42">source</a><h4 class="code-header">fn <a href="#tymethod.pad_nulls" class="fn">pad_nulls</a>(
    &amp;mut self,
    read_offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    values_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    levels_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    valid_mask: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>],
)</h4></section></summary><div class="docblock"><p>If a column contains nulls, more level data may be read than value data, as null
values are not encoded. Therefore, first the levels data is read, the null count
determined, and then the corresponding number of values read to a <a href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer"><code>ValuesBuffer</code></a>.</p>
<p>It is then necessary to move this values data into positions that correspond to
the non-null level positions. This is what this method does.</p>
<p>It is provided with:</p>
<ul>
<li><code>read_offset</code> - the offset in <a href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer"><code>ValuesBuffer</code></a> to start null padding from</li>
<li><code>values_read</code> - the number of values read</li>
<li><code>levels_read</code> - the number of levels read</li>
<li><code>valid_mask</code> - a packed mask of valid levels</li>
</ul>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="foreign-impls" class="section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-ValuesBuffer-for-Vec%3CT%3E" class="impl"><a class="src rightside" href="../../../../src/parquet/arrow/record_reader/buffer.rs.html#45-64">source</a><a href="#impl-ValuesBuffer-for-Vec%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a>&gt; <a class="trait" href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer">ValuesBuffer</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.pad_nulls" class="method trait-impl"><a class="src rightside" href="../../../../src/parquet/arrow/record_reader/buffer.rs.html#46-63">source</a><a href="#method.pad_nulls" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.pad_nulls" class="fn">pad_nulls</a>(
    &amp;mut self,
    read_offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    values_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    levels_read: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    valid_mask: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>],
)</h4></section></div></details><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ValuesBuffer-for-ViewBuffer" class="impl"><a class="src rightside" href="../../../../src/parquet/arrow/buffer/view_buffer.rs.html#99-110">source</a><a href="#impl-ValuesBuffer-for-ViewBuffer" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer">ValuesBuffer</a> for <a class="struct" href="../../buffer/view_buffer/struct.ViewBuffer.html" title="struct parquet::arrow::buffer::view_buffer::ViewBuffer">ViewBuffer</a></h3></section><section id="impl-ValuesBuffer-for-OffsetBuffer%3CI%3E" class="impl"><a class="src rightside" href="../../../../src/parquet/arrow/buffer/offset_buffer.rs.html#143-191">source</a><a href="#impl-ValuesBuffer-for-OffsetBuffer%3CI%3E" class="anchor">§</a><h3 class="code-header">impl&lt;I: OffsetSizeTrait&gt; <a class="trait" href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer">ValuesBuffer</a> for <a class="struct" href="../../buffer/offset_buffer/struct.OffsetBuffer.html" title="struct parquet::arrow::buffer::offset_buffer::OffsetBuffer">OffsetBuffer</a>&lt;I&gt;</h3></section><section id="impl-ValuesBuffer-for-DictionaryBuffer%3CK,+V%3E" class="impl"><a class="src rightside" href="../../../../src/parquet/arrow/buffer/dictionary_buffer.rs.html#187-205">source</a><a href="#impl-ValuesBuffer-for-DictionaryBuffer%3CK,+V%3E" class="anchor">§</a><h3 class="code-header">impl&lt;K: ArrowNativeType, V: OffsetSizeTrait&gt; <a class="trait" href="trait.ValuesBuffer.html" title="trait parquet::arrow::record_reader::buffer::ValuesBuffer">ValuesBuffer</a> for <a class="enum" href="../../buffer/dictionary_buffer/enum.DictionaryBuffer.html" title="enum parquet::arrow::buffer::dictionary_buffer::DictionaryBuffer">DictionaryBuffer</a>&lt;K, V&gt;</h3></section></div><script src="../../../../trait.impl/parquet/arrow/record_reader/buffer/trait.ValuesBuffer.js" data-ignore-extern-crates="alloc" async></script></section></div></main></body></html>